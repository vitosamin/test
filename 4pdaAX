Обход блокировок с использованием bird4
Тестировалось на прошивке Stable 1.0.168 , developer 1.0.140
Инструкция по обходу блокировок , через скрипт в среде entware. (совместно с любым VPN, который у вас есть)
Огромная благодарность за помощь DennoN
Bird4 Dennon

Есть 3 режима работы - скачивание файла с нужного сервиса, установка бгп соединения с одним из сервисов, и работа только с пользовательскими файлами

На роутере должна быть установлена прошивка Stable 1.0.168 или developer 1.0.140 и среда ENTWARE


1)
переходим в папку root
cd /opt/root



2)
установим git
/opt/bin/opkg install git git-http


3)
копируем с github все необходимое
/opt/bin/git clone https://github.com/DennoN-RUS/Bird4Static.git


4)
переходим в папку Bird4Static
cd Bird4Static


даем права
chmod +x *.sh


запускаем установку(отвечаем на вопросы скрипта)
sh ./install.sh



5)
переносим выполнение скрипта на 1 раз в сутки
mv /opt/etc/cron.hourly/add-bird4_routes.sh /opt/etc/cron.daily/


6)
Через веб роутера должно быть поднято любое впн соединение для обхода - к примеру у меня поднято l2tp-vpn до сервера в Польше - должен быть включен Smart обход в том же разделе и добавлен один ресурс, который надо обходить 31.13.0.0/16 : (сделано для того, чтобы роутер не маршрутизировал весь трафик в впн)
